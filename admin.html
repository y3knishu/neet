Got it! Let me help you build a solid admin panel page for your NEET PG quiz app with these features:
	•	Admin login check (only y3knishu@gmail.com allowed)
	•	Add / edit / delete MCQs per subject
	•	Upload questions in bulk via JSON file
	•	Export all questions as JSON file
	•	Image URL support per question
	•	Firestore integration for question storage

⸻

Here’s a complete admin.html example with all these:

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NEET PG Quiz Admin Panel</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #eef2ff;
    margin: 0; padding: 0;
  }
  header {
    background: #344ea3;
    color: white;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  header h1 {
    margin: 0; font-size: 1.5rem;
  }
  button#logoutBtn {
    background: #f97316;
    border: none;
    padding: 8px 16px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    border-radius: 6px;
  }
  main {
    padding: 20px;
    max-width: 1000px;
    margin: auto;
  }
  select, input, textarea, button {
    font-size: 1rem;
  }
  select, input[type="text"], textarea {
    width: 100%;
    padding: 8px;
    margin: 6px 0 12px;
    border-radius: 6px;
    border: 1.5px solid #344ea3;
  }
  label {
    font-weight: bold;
  }
  textarea {
    resize: vertical;
    min-height: 80px;
  }
  button {
    background: #344ea3;
    color: white;
    border: none;
    padding: 12px 20px;
    margin-top: 10px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
  }
  button:hover {
    background: #2a3a81;
  }
  .section {
    background: white;
    padding: 20px;
    margin-bottom: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  #questionsList {
    max-height: 350px;
    overflow-y: auto;
    border: 1.5px solid #344ea3;
    border-radius: 8px;
    padding: 10px;
  }
  #questionsList div {
    padding: 10px;
    border-bottom: 1px solid #ccc;
    cursor: pointer;
  }
  #questionsList div:hover {
    background-color: #f0f4ff;
  }
  .btn-danger {
    background: #d43f3a;
  }
  .btn-danger:hover {
    background: #b32e29;
  }
  .flex-row {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
  }
  .option-input {
    flex: 1 1 45%;
  }
  .radio-group {
    margin-bottom: 15px;
  }
  .radio-group label {
    margin-right: 15px;
  }
  #bulkUploadInput {
    margin-top: 10px;
  }
  #exportBtn {
    background: #28a745;
  }
  #exportBtn:hover {
    background: #1e7e34;
  }
  #statusMsg {
    margin-top: 15px;
    font-weight: 600;
  }
</style>
</head>
<body>

<header>
  <h1>NEET PG Quiz Admin Panel</h1>
  <button id="logoutBtn">Logout</button>
</header>

<main>
  <div id="statusMsg"></div>

  <section class="section">
    <h2>Add / Edit Question</h2>
    <label for="subjectSelect">Subject:</label>
    <select id="subjectSelect" required>
      <option value="">-- Select Subject --</option>
      <optgroup label="1st Year">
        <option value="Anatomy">Anatomy</option>
        <option value="Physiology">Physiology</option>
        <option value="Biochemistry">Biochemistry</option>
      </optgroup>
      <optgroup label="2nd Year">
        <option value="Pathology">Pathology</option>
        <option value="Pharmacology">Pharmacology</option>
        <option value="Microbiology">Microbiology</option>
        <option value="Forensic Medicine">Forensic Medicine</option>
      </optgroup>
      <optgroup label="3rd Year">
        <option value="Community Medicine">Community Medicine</option>
        <option value="ENT">ENT</option>
        <option value="Ophthalmology">Ophthalmology</option>
      </optgroup>
      <optgroup label="Final Year">
        <option value="General Medicine">General Medicine</option>
        <option value="General Surgery">General Surgery</option>
        <option value="Obstetrics & Gynaecology">Obstetrics & Gynaecology</option>
        <option value="Pediatrics">Pediatrics</option>
        <option value="Orthopaedics">Orthopaedics</option>
        <option value="Dermatology">Dermatology</option>
        <option value="Psychiatry">Psychiatry</option>
        <option value="Respiratory Medicine">Respiratory Medicine</option>
        <option value="Anesthesiology">Anesthesiology</option>
      </optgroup>
    </select>

    <label for="questionInput">Question:</label>
    <textarea id="questionInput" placeholder="Enter question text"></textarea>

    <label for="imageUrlInput">Image URL (optional):</label>
    <input type="text" id="imageUrlInput" placeholder="https://example.com/image.jpg" />

    <div class="flex-row">
      <div class="option-input">
        <label for="optionA">Option A:</label>
        <input type="text" id="optionA" placeholder="Option A" />
      </div>
      <div class="option-input">
        <label for="optionB">Option B:</label>
        <input type="text" id="optionB" placeholder="Option B" />
      </div>
    </div>
    <div class="flex-row">
      <div class="option-input">
        <label for="optionC">Option C:</label>
        <input type="text" id="optionC" placeholder="Option C" />
      </div>
      <div class="option-input">
        <label for="optionD">Option D:</label>
        <input type="text" id="optionD" placeholder="Option D" />
      </div>
    </div>

    <div class="radio-group">
      <label><strong>Correct Option:</strong></label>
      <label><input type="radio" name="correctOption" value="A" /> A</label>
      <label><input type="radio" name="correctOption" value="B" /> B</label>
      <label><input type="radio" name="correctOption" value="C" /> C</label>
      <label><input type="radio" name="correctOption" value="D" /> D</label>
    </div>

    <button id="saveQuestionBtn">Save Question</button>
  </section>

  <section class="section">
    <h2>All Questions in Selected Subject</h2>
    <select id="subjectFilterSelect" style="margin-bottom:12px;">
      <option value="">-- Select Subject to View --</option>
      <optgroup label="1st Year">
        <option value="Anatomy">Anatomy</option>
        <option value="Physiology">Physiology</option>
        <option value="Biochemistry">Biochemistry</option>
      </optgroup>
      <optgroup label="2nd Year">
        <option value="Pathology">Pathology</option>
        <option value="Pharmacology">Pharmacology</option>
        <option value="Microbiology">Microbiology</option>
        <option value="Forensic Medicine">Forensic Medicine</option>
      </optgroup>
      <optgroup label="3rd Year">
        <option value="Community Medicine">Community Medicine</option>
        <option value="ENT">ENT</option>
        <option value="Ophthalmology">Ophthalmology</option>
      </optgroup>
      <optgroup label="Final Year">
        <option value="General Medicine">General Medicine</option>
        <option value="General Surgery">General Surgery</option>
        <option value="Obstetrics & Gynaecology">Obstetrics & Gynaecology</option>
        <option value="Pediatrics">Pediatrics</option>
        <option value="Orthopaedics">Orthopaedics</option>
        <option value="Dermatology">Dermatology</option>
        <option value="Psychiatry">Psychiatry</option>
        <option value="Respiratory Medicine">Respiratory Medicine</option>
        <option value="Anesthesiology">Anesthesiology</option>
      </optgroup>
    </select>
    <div id="questionsList"></div>
    <button id="deleteQuestionBtn" class="btn-danger" disabled>Delete Selected Question</button>
  </section>

  <section class="section">
    <h2>Bulk Upload Questions (JSON)</h2>
    <p>Upload a JSON file with questions array. Format example below:</p>
    <pre style="background:#eee;padding:10px; font-size:0.85rem; max-height:150px; overflow:auto;">
[
  {
    "subject": "Anatomy",
    "question": "What is the longest bone?",
    "imageUrl": "",
    "options": {
      "A": "Femur",
      "B": "Tibia",
      "C": "Fibula",
      "D": "Humerus"
    },
    "correctOption": "A"
  },
  ...
]
    </pre>
    <input type="file" id="bulkUploadInput" accept=".json" />
    <button id="uploadJsonBtn">Upload JSON</button>
  </section>

  <section class="section">
    <h2>Export All Questions as JSON</h2>
    <button id="exportBtn">Download JSON</button>
  </section>
</main>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDr3_9dpo55esyfpkwsAjfFi_1KMu0ZDrU",
    authDomain: "neet-88499.firebaseapp.com",
    projectId: "neet-88499",
    storageBucket: "neet-88499.firebasestorage.app",
    messagingSenderId: "889163298965",
    appId: "1:889163298965:web:fbae28b0ba478cff2f839c",
    measurementId: "G-GEG090K2JQ"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  const allowedAdminEmail = "y3knishu@gmail.com";

  // Elements
  const logoutBtn = document.getElementById('logoutBtn');
  const statusMsg = document.getElementById('statusMsg');
  const subjectSelect = document.getElementById('subjectSelect');
  const questionInput = document.getElementById('questionInput');
  const imageUrlInput = document.getElementById('imageUrlInput');
  const optionA = document.getElementById('optionA');
  const optionB = document.getElementById('optionB');
  const optionC = document.getElementById('optionC');
  const optionD = document.getElementById('optionD');
  const correctOptionRadios = document.getElementsByName('correctOption');
  const saveQuestionBtn = document.getElementById('saveQuestionBtn');
  const subjectFilterSelect = document.getElementById('subjectFilterSelect');
  const questionsList = document.getElementById('questionsList');
  const deleteQuestionBtn = document.getElementById('deleteQuestionBtn');
  const bulkUploadInput = document.getElementById('bulkUploadInput');
  const uploadJsonBtn = document.getElementById('uploadJsonBtn');
  const exportBtn = document.getElementById('exportBtn');

  let currentUser = null;
  let editingQuestionId = null; // To track if editing or adding
  let selectedQuestionId = null; // For deletion

  // Admin auth check
  auth.onAuthStateChanged(user => {
    if (user && user.email === allowedAdminEmail) {
      currentUser = user;
      statusMsg.textContent = `Logged in as admin: ${user.email}`;
      loadQuestionsForSubject(subjectFilterSelect.value);
    } else {
      alert("Access denied! Admin login required.");
      window.location.href = "login.html";
    }
  });

  logoutBtn.addEventListener('click', () => {
    auth.signOut();
  });

  // Save or update question
  saveQuestionBtn.addEventListener('click', async () => {
    const subject = subjectSelect.value;
    const questionText = questionInput.value.trim();
    const imgUrl = imageUrlInput.value.trim();
    const options = {
      A: optionA.value.trim(),
      B: optionB.value.trim(),
      C: optionC.value.trim(),
      D: optionD.value.trim()
    };
    const correctOption = [...correctOptionRadios].find(r => r.checked)?.value;

    if (!subject || !questionText || !options.A || !options.B || !options.C || !options.D || !correctOption) {
      alert("Please fill all fields and select correct option.");
      return;
    }

    const questionData = {
      subject,
      question: questionText,
      imageUrl: imgUrl,
      options,
      correctOption
    };

    try {
      if (editingQuestionId) {
        // Update existing question
        await db.collection('questions').doc(editingQuestionId).set(questionData);
        statusMsg.textContent = "Question updated successfully.";
      } else {
        // Add new question
        await db.collection('questions').add(questionData);
        statusMsg.textContent = "Question added successfully.";
      }
      clearForm();
      loadQuestionsForSubject(subjectFilterSelect.value);
    } catch (error) {
      alert("Error saving question: " + error.message);
    }
  });

  // Clear form inputs
  function clearForm() {
    editingQuestionId = null;
    subjectSelect.value = "";
    questionInput.value = "";
    imageUrlInput.value = "";
    optionA.value = "";
    optionB.value = "";
    optionC.value = "";
    optionD.value = "";
    [...correctOptionRadios].forEach(r => r.checked = false);
    saveQuestionBtn.textContent = "Save Question";
  }

  // Load questions list for selected subject
  subjectFilterSelect.addEventListener('change', () => {
    loadQuestionsForSubject(subjectFilterSelect.value);
    clearForm();
    selectedQuestionId = null;
    deleteQuestionBtn.disabled = true;
  });

  async function loadQuestionsForSubject(subject) {
    questionsList.innerHTML = "";
    if (!subject) return;

    try {
      const querySnapshot = await db.collection('questions')
        .where("subject", "==", subject)
        .orderBy("question")
        .get();

      if (querySnapshot.empty) {
        questionsList.innerHTML = "<p>No questions found for this subject.</p>";
        return;
      }

      querySnapshot.forEach(doc => {
        const q = doc.data();
        const div = document.createElement('div');
        div.textContent = q.question.length > 100 ? q.question.slice(0, 100) + "..." : q.question;
        div.dataset.id = doc.id;
        div.title = "Click to edit";
        div.addEventListener('click', () => {
          selectQuestion(doc.id, q);
        });
        questionsList.appendChild(div);
      });
    } catch (error) {
      alert("Error loading questions: " + error.message);
    }
  }

  // Select question for editing
  function selectQuestion(id, questionData) {
    selectedQuestionId = id;
    editingQuestionId = id;

    subjectSelect.value = questionData.subject;
    questionInput.value = questionData.question;
    imageUrlInput.value = questionData.imageUrl || "";
    optionA.value = questionData.options.A;
    optionB.value = questionData.options.B;
    optionC.value = questionData.options.C;
    optionD.value = questionData.options.D;

    [...correctOptionRadios].forEach(r => r.checked = r.value === questionData.correctOption);

    saveQuestionBtn.textContent = "Update Question";
    deleteQuestionBtn.disabled = false;

    // Highlight selected question visually
    [...questionsList.children].forEach(child => {
      child.style.backgroundColor = child.dataset.id === id ? "#d3e0ff" : "";
    });
  }

  // Delete selected question
  deleteQuestionBtn.addEventListener('click', async () => {
    if (!selectedQuestionId) return;
    if (!confirm("Are you sure you want to delete the selected question?")) return;

    try {
      await db.collection('questions').doc(selectedQuestionId).delete();
      statusMsg.textContent = "Question deleted.";
      clearForm();
      loadQuestionsForSubject(subjectFilterSelect.value);
      selectedQuestionId = null;
      deleteQuestionBtn.disabled = true;
    } catch (error) {
      alert("Error deleting question: " + error.message);
    }
  });

  // Bulk upload JSON questions
  uploadJsonBtn.addEventListener('click', () => {
    if (!bulkUploadInput.files.length) {
      alert("Please select a JSON file first.");
      return;
    }

    const file = bulkUploadInput.files[0];
    const reader = new FileReader();
    reader.onload = async (e) => {
      try {
        const questionsArray = JSON.parse(e.target.result);
        if (!Array.isArray(questionsArray)) throw new Error("JSON must be an array.");

        let addedCount =        
        let addedCount = 0;
        for (const q of questionsArray) {
          // Basic validation for each question object
          if (
            !q.subject || !q.question || !q.options ||
            !q.options.A || !q.options.B || !q.options.C || !q.options.D ||
            !q.correctOption
          ) {
            console.warn("Skipping invalid question:", q);
            continue; // skip invalid question
          }

          await db.collection('questions').add({
            subject: q.subject,
            question: q.question,
            imageUrl: q.imageUrl || "",
            options: {
              A: q.options.A,
              B: q.options.B,
              C: q.options.C,
              D: q.options.D
            },
            correctOption: q.correctOption
          });
          addedCount++;
        }
        statusMsg.textContent = `Bulk upload complete. Added ${addedCount} questions.`;
        loadQuestionsForSubject(subjectFilterSelect.value);
      } catch (err) {
        alert("Failed to parse or upload JSON: " + err.message);
      }
    };
    reader.readAsText(file);
  });

  // Export all questions as JSON
  exportBtn.addEventListener('click', async () => {
    try {
      const allQuestionsSnapshot = await db.collection('questions').get();
      const allQuestions = [];
      allQuestionsSnapshot.forEach(doc => {
        const data = doc.data();
        allQuestions.push({
          subject: data.subject,
          question: data.question,
          imageUrl: data.imageUrl || "",
          options: data.options,
          correctOption: data.correctOption
        });
      });

      const dataStr = JSON.stringify(allQuestions, null, 2);
      const blob = new Blob([dataStr], { type: "application/json" });
      const url = URL.createObjectURL(blob);

      const a = document.createElement('a');
      a.href = url;
      a.download = `neet_pg_questions_export_${Date.now()}.json`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      statusMsg.textContent = "Export completed, file downloaded.";
    } catch (error) {
      alert("Error exporting questions: " + error.message);
    }
  });
</script>

</body>
</html>
